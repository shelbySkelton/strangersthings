{"ast":null,"code":"import _regeneratorRuntime from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";export var BASE_URL='https://strangers-things.herokuapp.com';export var cohortName='2206-ftb-et-web-ft-b';export var postMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(colonlessPostId,token,messageContent){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts/\").concat(colonlessPostId,\"/messages\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({message:{\"content\":messageContent}})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;return _context.abrupt(\"return\",result);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function postMessage(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var patchEdit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(colonlessPostId,token,title,description,price,location,willDeliver){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts/\").concat(colonlessPostId),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{\"title\":title,\"description\":description,\"price\":price,\"location\":location,\"willDeliver\":willDeliver}})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:result=_context2.sent;return _context2.abrupt(\"return\",result);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function patchEdit(_x4,_x5,_x6,_x7,_x8,_x9,_x10){return _ref2.apply(this,arguments);};}();export var deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token,postID){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts/\").concat(postID),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;return _context3.abrupt(\"return\",result);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function deletePost(_x11,_x12){return _ref3.apply(this,arguments);};}();export var postPost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token,title,description,price,location,willDeliver){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{\"title\":title,\"description\":description,\"price\":price,\"location\":location,\"willDeliver\":willDeliver}})});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;return _context4.abrupt(\"return\",result.data.post);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function postPost(_x13,_x14,_x15,_x16,_x17,_x18){return _ref4.apply(this,arguments);};}();export var getMe=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token){var response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:result=_context5.sent;return _context5.abrupt(\"return\",result);case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function getMe(_x19){return _ref5.apply(this,arguments);};}();export var postLogIn=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/users/login\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{\"username\":username,\"password\":password}})});case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:result=_context6.sent;return _context6.abrupt(\"return\",result);case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function postLogIn(_x20,_x21){return _ref6.apply(this,arguments);};}();export var postNewUser=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/users/register\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{\"username\":username,\"password\":password}})});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:result=_context7.sent;return _context7.abrupt(\"return\",result);case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);console.log(\"Errrrrrr\");case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[0,10]]);}));return function postNewUser(_x22,_x23){return _ref7.apply(this,arguments);};}();export var fetchPosts=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){var response,data,actualPosts;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts\"));case 3:response=_context8.sent;_context8.next=6;return response.json();case 6:data=_context8.sent;actualPosts=data.data.posts;return _context8.abrupt(\"return\",actualPosts);case 11:_context8.prev=11;_context8.t0=_context8[\"catch\"](0);console.error(_context8.t0);case 14:case\"end\":return _context8.stop();}}},_callee8,null,[[0,11]]);}));return function fetchPosts(){return _ref8.apply(this,arguments);};}();export var fetchAllPosts=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(token){var response,data,actualPosts;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return fetch(\"\".concat(BASE_URL,\"/api/\").concat(cohortName,\"/posts\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context9.sent;_context9.next=6;return response.json();case 6:data=_context9.sent;actualPosts=data.data.posts;return _context9.abrupt(\"return\",actualPosts);case 11:_context9.prev=11;_context9.t0=_context9[\"catch\"](0);console.error(_context9.t0);case 14:case\"end\":return _context9.stop();}}},_callee9,null,[[0,11]]);}));return function fetchAllPosts(_x24){return _ref9.apply(this,arguments);};}();","map":{"version":3,"names":["React","BASE_URL","cohortName","postMessage","colonlessPostId","token","messageContent","fetch","method","headers","body","JSON","stringify","message","response","json","result","console","error","patchEdit","title","description","price","location","willDeliver","post","deletePost","postID","postPost","data","getMe","postLogIn","username","password","user","log","postNewUser","fetchPosts","actualPosts","posts","fetchAllPosts"],"sources":["/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/api/index.js"],"sourcesContent":["import React from \"react\";\nexport const BASE_URL = 'https://strangers-things.herokuapp.com';\nexport const cohortName = '2206-ftb-et-web-ft-b';\n\n\n\nexport const postMessage = async (colonlessPostId, token, messageContent) => {\n\n    try {\n        const response = await fetch (`${BASE_URL}/api/${cohortName}/posts/${colonlessPostId}/messages`,\n        {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                message: {\n                \"content\": messageContent\n                }\n            })\n        });\n        const result = await response.json();\n\n            return result;\n    } catch(error) {\n            console.error(error)\n        }\n}\n\n\nexport const patchEdit = async (colonlessPostId, token, title, description, price, location, willDeliver) => {\n    try {\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/posts/${colonlessPostId}`,\n        {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: {\n                    \"title\": title,\n                    \"description\": description,\n                    \"price\": price,\n                    \"location\": location,\n                    \"willDeliver\": willDeliver\n                }\n                })\n        });\n            const result = await response.json();\n            return result;\n    } catch(error) {\n            console.error(error)\n        }\n\n}\n\n\n\n\nexport const deletePost = async (token, postID) => {\n    try {\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/posts/${postID}`,\n        {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n        });\n        const result = await response.json();\n        return result;\n        } catch(error) {\n            console.error(error)\n        }\n}\n\nexport const postPost = async (token, title, description, price, location, willDeliver) => {\n    try{\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/posts`,\n        {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: {\n                    \"title\": title,\n                    \"description\": description,\n                    \"price\": price,\n                    \"location\": location,\n                    \"willDeliver\": willDeliver\n                }\n                })\n\n        }\n        );\n            const result = await response.json();\n            return result.data.post;\n    } catch(error) {\n        console.error(error)\n    }\n}\n\n\n\n\nexport const getMe = async (token) =>  {\n\n    try{\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/users/me`,\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n            }\n        );\n            const result = await response.json();\n            return result;\n    } catch(error) {\n        console.error(error)\n    }\n\n}\n\n\nexport const postLogIn = async (username, password) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/users/login`, \n                {\n                    method: \"POST\",\n                    headers: {\n                    'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                    user: {\n                        \"username\": username,\n                        \"password\": password\n                    }\n                    })\n                }\n        );\n        const result = await response.json()\n        return result;    \n    } catch(error){\n        console.log(error)\n    }\n}\n\n\n\nexport const postNewUser = async (username, password) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/api/${cohortName}/users/register`, \n                {\n                    method: \"POST\",\n                    headers: {\n                    'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                    user: {\n                        \"username\": username,\n                        \"password\": password\n                    }\n                    })\n                }\n            );\n        const result = await response.json()\n        return result; \n        }\n        catch(error){\n            console.log(\"Errrrrrr\")\n        }\n}\n\nexport const fetchPosts = async () => {\n \n    try {\n      const response = await fetch(`${ BASE_URL }/api/${ cohortName }/posts`);\n      const data = await response.json();\n      const actualPosts = data.data.posts\n      return actualPosts;\n    } catch (error) {\n      console.error(error);\n      }\n  }\n\n  export const fetchAllPosts = async (token) => {\n    try {\n        const response = await fetch(`${ BASE_URL }/api/${ cohortName }/posts`,\n        {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n        });\n        const data = await response.json();\n        const actualPosts = data.data.posts\n        return actualPosts;\n    } catch (error) {\n        console.error(error)\n        } \n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}