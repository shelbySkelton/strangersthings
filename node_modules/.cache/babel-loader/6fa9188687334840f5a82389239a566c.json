{"ast":null,"code":"import _regeneratorRuntime from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{postPost}from\"../api\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPost=function AddPost(_ref){var isLoggedIn=_ref.isLoggedIn,currentUser=_ref.currentUser,token=_ref.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState('[On Request]'),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),postAdded=_useState12[0],setPostAdded=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),newPost=_useState14[0],setNewPost=_useState14[1];var submitPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return postPost(token,title,description,price,location,willDeliver);case 3:result=_context.sent;console.log('result ',result);setPostAdded(true);setNewPost(result);case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitPost(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"section\",{className:\"add-post-container\",children:[postAdded?/*#__PURE__*/_jsxs(\"section\",{className:\"each-post-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Post\"}),/*#__PURE__*/_jsx(\"p\",{children:\"*ADDED*\"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-label\",children:\"Item: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-title\",children:newPost.title}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"post-label\",children:\"Location: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-location\",children:newPost.location}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"post-label\",children:\"Description: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-description\",children:newPost.description}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"post-label\",children:\"Price: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-price\",children:newPost.price}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"post-label\",children:\"Delivery Available: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"post-delivery\",children:newPost.willDeliver?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/posts\",children:\"Back to All Posts\"})]}):null,isLoggedIn?/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"form\",{id:\"add-post-form\",onSubmit:submitPost,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add a Post\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:title,placeholder:\"What're you looking to sell?\",onChange:function onChange(evt){return setTitle(evt.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:description,placeholder:\"Tell the world about it\",onChange:function onChange(evt){return setDescription(evt.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:price,onChange:function onChange(evt){return setPrice(evt.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:location,placeholder:\"optional*\",onChange:function onChange(evt){return setLocation(evt.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Willing to Deliver?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:willDeliver,id:\"willdeliverycheckbox\",onChange:function onChange(evt){return setWillDeliver(!willDeliver);}}),/*#__PURE__*/_jsx(\"input\",{id:\"add-post-button\",type:\"submit\",value:\"Add Post\"})]})}):/*#__PURE__*/_jsxs(\"h1\",{children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/log-in/\",children:\"Log In\"}),\" to Add a Post\"]})]});};export default AddPost;","map":{"version":3,"names":["React","useState","postPost","Link","AddPost","isLoggedIn","currentUser","token","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","postAdded","setPostAdded","newPost","setNewPost","submitPost","evt","preventDefault","result","console","log","target","value"],"sources":["/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/components/AddPost.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { postPost } from \"../api\";\nimport {  Link } from 'react-router-dom'\n\n\nconst AddPost = ({ isLoggedIn, currentUser, token }) => {\n\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [price, setPrice] = useState('')\n    const [location, setLocation] = useState('[On Request]')\n    const [willDeliver, setWillDeliver]= useState(false)\n    const [postAdded, setPostAdded ] = useState(false)\n    const [newPost, setNewPost] = useState({})\n\n\n    const submitPost = async (evt) => {\n        evt.preventDefault();\n        const result = await postPost(token, title, description, price, location, willDeliver)\n        console.log('result ', result)\n        setPostAdded(true)\n        setNewPost(result)\n    }\n\n\n    return(\n        <section className='add-post-container'>\n            {\n                postAdded ? \n                    <section className=\"each-post-section\">\n                        <h1>My Post</h1>\n                        <p>*ADDED*</p>\n                        <span className=\"post-label\">Item: </span>\n                        <span className=\"post-title\">{ newPost.title}</span><br></br>\n                        <span className=\"post-label\">Location: </span>\n                        <span className=\"post-location\">{ newPost.location}</span><br></br>\n                        <span className=\"post-label\">Description: </span>\n                        <span className=\"post-description\">{ newPost.description}</span><br></br>\n                        <span className=\"post-label\">Price: </span>\n                        <span className=\"post-price\">{ newPost.price}</span><br></br>\n                        <span className=\"post-label\">Delivery Available: </span>\n                        <span className=\"post-delivery\">{ newPost.willDeliver ? \"Yes\" : \"No\"}</span><br></br>\n                        <br></br>\n                        <Link className=\"nav-link\" to=\"/posts\">Back to All Posts</Link>\n                     </section>\n                    \n                    :\n                    null\n            }\n            {\n                isLoggedIn ?\n                    <section>\n                        <form\n                            id='add-post-form'\n                            onSubmit={submitPost}\n                        >\n                            <h1>Add a Post</h1>\n                            <label className='form-label'>Title</label>\n                            <input\n                                type='text'\n                                required\n                                value={title}\n                                placeholder=\"What're you looking to sell?\"\n                                onChange={(evt) => setTitle(evt.target.value)}\n                            >\n                            </input>\n                            <label className='form-label'>Description</label>\n                            <input\n                                type='text'\n                                required\n                                value={description}\n                                placeholder=\"Tell the world about it\"\n                                onChange={(evt) => setDescription(evt.target.value)}\n                            >\n                            </input>\n                            <label className='form-label'>Price</label>\n                            <input\n                                type='text'\n                                required\n                                value={price}\n                                onChange={(evt) => setPrice(evt.target.value)}\n                            >\n                            </input>\n                            <label className='form-label'>Location</label>\n                            <input\n                                type='text'\n                                value={location}\n                                placeholder=\"optional*\"\n                                onChange={(evt) => setLocation(evt.target.value)}\n                            >\n                            </input>\n                            <label className='form-label'>Willing to Deliver?</label>\n                            <input\n                                type='checkbox'\n                                checked={willDeliver}\n                                id=\"willdeliverycheckbox\"\n                                onChange={(evt) => setWillDeliver(!willDeliver)}\n                            >\n                            </input>\n                            <input\n                                id=\"add-post-button\"\n                                type=\"submit\"\n                                value= \"Add Post\"\n                            >\n                            </input>\n                        </form>\n                    </section>\n                :\n                <h1>Please <Link to=\"/log-in/\">Log In</Link> to Add a Post</h1>\n            }\n        </section>\n    )\n}\n\n\n\n\nexport default AddPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}