{"ast":null,"code":"import _regeneratorRuntime from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{BASE_URL,cohortName,postNewUser}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(_ref){var username=_ref.username,setUsername=_ref.setUsername,password=_ref.password,setPassword=_ref.setPassword,token=_ref.token,setToken=_ref.setToken,setCurrentUser=_ref.setCurrentUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newPW1=_useState2[0],setNewPW1=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPW2=_useState4[0],setNewPW2=_useState4[1];useEffect(function(){console.log('useeffectfired');},[token]);var createUser=function createUser(evt){evt.preventDefault();var getToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var returnedToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return postNewUser(username,password);case 2:returnedToken=_context.sent;setToken(returnedToken);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getToken(){return _ref2.apply(this,arguments);};}();getToken();};return/*#__PURE__*/_jsx(\"section\",{className:\"register-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"register-form\",onSubmit:createUser,children:[token?\"Thanks for signing up! Log in with your new Username & Password to get started.\":/*#__PURE__*/_jsxs(\"div\",{id:\"log-in-inputs\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create a Log-In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:username,id:\"username\",placeholder:\"Username\",onChange:function onChange(evt){return setUsername(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:newPW1,id:\"password-submission1\",placeholder:\"Password\",onChange:function onChange(evt){return setNewPW1(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:newPW2,id:\"password-submission2\",placeholder:\"Reconfirm Password\",onInput:function onInput(evt){return setNewPW2(evt.target.value);},onChange:function onChange(evt){return setPassword(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Account\",disabled:newPW1===newPW2?false:true})]}),/*#__PURE__*/_jsx(\"div\",{children:newPW1==newPW2?null:'Passwords Must Match'})]})});};export default RegisterForm;","map":{"version":3,"names":["React","useEffect","useState","BASE_URL","cohortName","postNewUser","RegisterForm","username","setUsername","password","setPassword","token","setToken","setCurrentUser","newPW1","setNewPW1","newPW2","setNewPW2","console","log","createUser","evt","preventDefault","getToken","returnedToken","target","value"],"sources":["/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/components/RegisterForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BASE_URL, cohortName, postNewUser } from \"../api\";\n\n\n\n\nconst RegisterForm = ({ username, setUsername, password, setPassword, token, setToken, setCurrentUser }) => {\n\n    const [newPW1, setNewPW1] = useState('')\n    const [newPW2, setNewPW2] = useState('')\n\n\n    useEffect(() =>  {\n        \n        console.log('useeffectfired')\n\n    }, [token])\n\n\n    const createUser = (evt) => {\n        evt.preventDefault();\n \n        const getToken = async () => {\n\n            const returnedToken = await postNewUser(username, password);\n            setToken(returnedToken)\n            \n        }\n    getToken();\n        \n\n    }\n \n\n\n\n    return (\n        <section className='register-form-container'>\n            <form\n                id='register-form'\n                onSubmit={createUser}\n                >\n                {\n                    token ? \n                        \"Thanks for signing up! Log in with your new Username & Password to get started.\"\n                    :\n                        <div id=\"log-in-inputs\">\n                            <h3>Create a Log-In</h3>\n                            <input\n                                type='text'\n                                required\n                                value={username}\n                                id='username'\n                                placeholder=\"Username\"\n                                onChange={(evt) => setUsername(evt.target.value)}\n                            ></input>\n                            <input\n                                type='password'\n                                required\n                                value={newPW1}\n                                id='password-submission1'\n                                placeholder=\"Password\"\n                                onChange={(evt) => setNewPW1(evt.target.value)}\n                            ></input>\n                            <input\n                                type='password'\n                                required\n                                value={newPW2}\n                                id='password-submission2'\n                                placeholder=\"Reconfirm Password\"\n                                onInput={(evt) => setNewPW2(evt.target.value)}\n                                onChange={(evt) => setPassword(evt.target.value)}      \n                            ></input>\n                            <input\n                                type='submit'\n                                value='Create Account'\n                                disabled= {(newPW1 === newPW2) ? false : true}\n                            ></input>\n                    </div>\n                }\n                \n                <div>\n                    {(newPW1 == newPW2 ) ? null : 'Passwords Must Match' }\n                </div>\n            </form>\n\n        </section>\n    )\n}\n\n\nexport default RegisterForm;"],"mappings":"kgBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,UAAnB,CAA+BC,WAA/B,KAAkD,QAAlD,C,wFAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,MAAuF,IAApFC,SAAoF,MAApFA,QAAoF,CAA1EC,WAA0E,MAA1EA,WAA0E,CAA7DC,QAA6D,MAA7DA,QAA6D,CAAnDC,WAAmD,MAAnDA,WAAmD,CAAtCC,KAAsC,MAAtCA,KAAsC,CAA/BC,QAA+B,MAA/BA,QAA+B,CAArBC,cAAqB,MAArBA,cAAqB,CAExG,cAA4BX,QAAQ,CAAC,EAAD,CAApC,wCAAOY,MAAP,eAAeC,SAAf,eACA,eAA4Bb,QAAQ,CAAC,EAAD,CAApC,yCAAOc,MAAP,eAAeC,SAAf,eAGAhB,SAAS,CAAC,UAAO,CAEbiB,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAEH,CAJQ,CAIN,CAACR,KAAD,CAJM,CAAT,CAOA,GAAMS,WAAU,CAAG,QAAbA,WAAa,CAACC,GAAD,CAAS,CACxBA,GAAG,CAACC,cAAJ,GAEA,GAAMC,SAAQ,6FAAG,6KAEelB,YAAW,CAACE,QAAD,CAAWE,QAAX,CAF1B,QAEPe,aAFO,eAGbZ,QAAQ,CAACY,aAAD,CAAR,CAHa,sDAAH,kBAARD,SAAQ,2CAAd,CAMJA,QAAQ,GAGP,CAZD,CAiBA,mBACI,gBAAS,SAAS,CAAC,yBAAnB,uBACI,cACI,EAAE,CAAC,eADP,CAEI,QAAQ,CAAEH,UAFd,WAKQT,KAAK,CACD,iFADC,cAGD,aAAK,EAAE,CAAC,eAAR,wBACI,uCADJ,cAEI,cACI,IAAI,CAAC,MADT,CAEI,QAAQ,KAFZ,CAGI,KAAK,CAAEJ,QAHX,CAII,EAAE,CAAC,UAJP,CAKI,WAAW,CAAC,UALhB,CAMI,QAAQ,CAAE,kBAACc,GAAD,QAASb,YAAW,CAACa,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAApB,EANd,EAFJ,cAUI,cACI,IAAI,CAAC,UADT,CAEI,QAAQ,KAFZ,CAGI,KAAK,CAAEZ,MAHX,CAII,EAAE,CAAC,sBAJP,CAKI,WAAW,CAAC,UALhB,CAMI,QAAQ,CAAE,kBAACO,GAAD,QAASN,UAAS,CAACM,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAAlB,EANd,EAVJ,cAkBI,cACI,IAAI,CAAC,UADT,CAEI,QAAQ,KAFZ,CAGI,KAAK,CAAEV,MAHX,CAII,EAAE,CAAC,sBAJP,CAKI,WAAW,CAAC,oBALhB,CAMI,OAAO,CAAE,iBAACK,GAAD,QAASJ,UAAS,CAACI,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAAlB,EANb,CAOI,QAAQ,CAAE,kBAACL,GAAD,QAASX,YAAW,CAACW,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAApB,EAPd,EAlBJ,cA2BI,cACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAC,gBAFV,CAGI,QAAQ,CAAIZ,MAAM,GAAKE,MAAZ,CAAsB,KAAtB,CAA8B,IAH7C,EA3BJ,GARZ,cA2CI,qBACMF,MAAM,EAAIE,MAAX,CAAsB,IAAtB,CAA6B,sBADlC,EA3CJ,GADJ,EADJ,CAoDH,CAlFD,CAqFA,cAAeV,aAAf"},"metadata":{},"sourceType":"module"}