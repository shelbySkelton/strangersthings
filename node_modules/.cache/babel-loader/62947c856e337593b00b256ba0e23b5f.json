{"ast":null,"code":"var _jsxFileName = \"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { fetchAllPosts, deletePost } from \"../api\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Posts = _ref => {\n  _s();\n\n  let {\n    isLoggedIn,\n    token,\n    currentUser,\n    username\n  } = _ref;\n  const [postList, setPostList] = useState([]);\n  const [postUpdate, setPostUpdate] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    let returnedPosts = [];\n\n    const getPosts = async () => {\n      returnedPosts = await fetchAllPosts(token);\n      setPostList(returnedPosts);\n    };\n\n    getPosts();\n  }, [isLoggedIn, postUpdate]);\n\n  function searchHandler(evt) {\n    evt.preventDefault();\n    console.log(searchTerm); // postList.map(eachPost) => {\n    //     eachPost.includes(searchTerm)\n    // }\n  } // const filteredPosts = posts.filter(post => postMatches(post, searchTerm))\n  // const postsToDisplay = searchTerm.length ? filteredPosts : posts;\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"posts-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"post-title\",\n      children: \"Posts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [username, \" token: \", token]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/add-post\",\n      children: \"Add Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"search-words\",\n        type: \"text\",\n        value: searchTerm,\n        placeholder: \"Search Posts\",\n        onChange: evt => setSearchTerm(evt.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"search-button\",\n        type: \"submit\",\n        value: \"Search\",\n        onClick: searchHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }, this), postList.map((eachPost, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"each-post-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Item: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-title\",\n          children: eachPost.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Location: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-location\",\n          children: eachPost.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 92\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Posted By: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-author\",\n          children: eachPost.author.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 97\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Status: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-status\",\n          children: eachPost.active ? \"Active\" : \"No Longer Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 120\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Description: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-description\",\n          children: eachPost.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 98\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Price: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-price\",\n          children: eachPost.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-label\",\n          children: \"Delivery Available: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"post-delivery\",\n          children: eachPost.willDeliver ? \"Yes\" : \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 110\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            hidden: username === eachPost.author.username ? false : true,\n            onClick: evt => deletePost(token, eachPost._id),\n            onChange: evt => setPostUpdate('updated'),\n            children: \"Delete my post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 34\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 30\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Posts, \"t8lVS9z2UVw0O8goLAVzDO2albY=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useEffect","useState","fetchAllPosts","deletePost","Link","Posts","isLoggedIn","token","currentUser","username","postList","setPostList","postUpdate","setPostUpdate","searchTerm","setSearchTerm","returnedPosts","getPosts","searchHandler","evt","preventDefault","console","log","target","value","map","eachPost","idx","title","location","author","active","description","price","willDeliver","_id"],"sources":["/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/components/Posts.js"],"sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport {  fetchAllPosts, deletePost } from \"../api\";\nimport { Link } from 'react-router-dom'\n\nconst Posts = ({ isLoggedIn, token, currentUser, username}) => {\n    const [postList, setPostList] = useState([])\n    const [postUpdate, setPostUpdate] = useState('')\n    const [searchTerm, setSearchTerm] = useState('')\n\n    \n    useEffect(() =>  {\n        let returnedPosts= []\n\n        const getPosts = async () => {\n            returnedPosts = await fetchAllPosts(token);\n            setPostList(returnedPosts);\n        }\n        getPosts()\n\n    }, [isLoggedIn, postUpdate])\n\n\n    function searchHandler (evt) {\n        evt.preventDefault()\n        console.log(searchTerm)\n        // postList.map(eachPost) => {\n        //     eachPost.includes(searchTerm)\n        // }\n    }\n\n\n \n    // const filteredPosts = posts.filter(post => postMatches(post, searchTerm))\n    // const postsToDisplay = searchTerm.length ? filteredPosts : posts;\n\n        return (\n            <div id=\"posts-container\">\n                  <h1 className='post-title'>Posts</h1>\n                  <h5>{username} token: {token}</h5>\n                    <Link to='/add-post'>Add Post</Link>\n                    <fieldset>\n                        <input\n                            id='search-words'\n                            type='text'\n                            value={searchTerm}\n                            placeholder=\"Search Posts\"\n                            onChange={(evt)=> setSearchTerm(evt.target.value)}\n                        ></input>\n                        <input\n                            id='search-button'\n                            type='submit'\n                            value=\"Search\"\n                            onClick={searchHandler}\n                        ></input>\n                    </fieldset>\n                    {\n                     postList.map((eachPost, idx) => {\n                         return (\n                             <section className=\"each-post-section\" key={idx}>\n                                 <span className=\"post-label\">Item: </span>\n                                 <span className=\"post-title\">{eachPost.title}</span><br></br>\n                                 <span className=\"post-label\">Location: </span>\n                                 <span className=\"post-location\">{eachPost.location}</span><br></br>\n                                 <span className=\"post-label\">Posted By: </span>\n                                 <span className=\"post-author\">{eachPost.author.username}</span><br></br>\n                                 <span className=\"post-label\">Status: </span>\n                                 <span className=\"post-status\">{eachPost.active ? \"Active\" : \"No Longer Active\"}</span><br></br>\n                                 <span className=\"post-label\">Description: </span>\n                                 <span className=\"post-description\">{eachPost.description}</span><br></br>\n                                 <span className=\"post-label\">Price: </span>\n                                 <span className=\"post-price\">{eachPost.price}</span><br></br>\n                                 <span className=\"post-label\">Delivery Available: </span>\n                                 <span className=\"post-delivery\">{eachPost.willDeliver ? \"Yes\" : \"No\"}</span><br></br>\n                                 <span><button\n                                        hidden={ username === eachPost.author.username ? false : true}\n                                        onClick={(evt) => deletePost(token, eachPost._id)}\n                                        onChange={(evt) => setPostUpdate('updated')}\n                                        >Delete my post</button></span>\n                                {/* <span className=\"post-label\">Messages: </span>\n                                 <span className=\"post-delivery\">{eachPost.messages ? \"Yes\" : \"No\"}</span><br></br> */}\n                                 \n                             </section>\n                         )\n                     })\n                   }\n\n        </div>\n        )\n} \n\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}