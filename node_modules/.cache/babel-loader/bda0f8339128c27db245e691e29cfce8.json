{"ast":null,"code":"import _regeneratorRuntime from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{postNewUser}from\"../api\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(_ref){var username=_ref.username,setUsername=_ref.setUsername,password=_ref.password,setPassword=_ref.setPassword,setToken=_ref.setToken;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newPW1=_useState2[0],setNewPW1=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPW2=_useState4[0],setNewPW2=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),newUserSuccess=_useState6[0],setNewUserSuccess=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var createUser=function createUser(evt){evt.preventDefault();var getToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var returnedResult,returnedToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return postNewUser(username,password);case 2:returnedResult=_context.sent;if(returnedResult.success===true){returnedToken=returnedResult.data.token;setToken(returnedToken);setNewUserSuccess(returnedResult.success);}else if(returnedResult.success===false){setErrorMessage(returnedResult.error.message);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getToken(){return _ref2.apply(this,arguments);};}();getToken();};return/*#__PURE__*/_jsx(\"section\",{id:\"register-form-container\",children:/*#__PURE__*/_jsx(\"form\",{id:\"register-form\",onSubmit:createUser,children:newUserSuccess?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Thanks for signing up! Please \",/*#__PURE__*/_jsx(Link,{to:\"/log-in/\",children:\"Log In\"}),\" with your new Username and Password to get started.\"]})}):/*#__PURE__*/_jsxs(\"div\",{id:\"log-in-inputs\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a Log-In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"register-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:username,id:\"username\",placeholder:\"Username\",onChange:function onChange(evt){return setUsername(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:newPW1,id:\"password-submission1\",placeholder:\"Password\",onChange:function onChange(evt){return setNewPW1(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:newPW2,id:\"password-submission2\",placeholder:\"Reconfirm Password\",onInput:function onInput(evt){return setNewPW2(evt.target.value);},onChange:function onChange(evt){return setPassword(evt.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Account\",disabled:newPW1===newPW2?false:true}),/*#__PURE__*/_jsx(\"div\",{className:\"register-message\",children:newPW1==newPW2?null:'Passwords Must Match'})]})})});};export default RegisterForm;","map":{"version":3,"names":["React","useState","postNewUser","Link","RegisterForm","username","setUsername","password","setPassword","setToken","newPW1","setNewPW1","newPW2","setNewPW2","newUserSuccess","setNewUserSuccess","errorMessage","setErrorMessage","createUser","evt","preventDefault","getToken","returnedResult","success","returnedToken","data","token","error","message","target","value"],"sources":["/Users/helby1/Desktop/FULL STACK ACADEMY/Course_Work/project_09/Strangers Things/src/components/RegisterForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { postNewUser } from \"../api\";\nimport { Link } from 'react-router-dom';\n\n\n\n\nconst RegisterForm = ({ username, setUsername, password, setPassword, setToken }) => {\n\n    const [newPW1, setNewPW1] = useState('')\n    const [newPW2, setNewPW2] = useState('')\n    const [newUserSuccess, setNewUserSuccess] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n\n    const createUser = (evt) => {\n        evt.preventDefault();\n        const getToken = async () => {\n\n            const returnedResult = await postNewUser(username, password);\n            if (returnedResult.success === true) {\n                const returnedToken = returnedResult.data.token\n                setToken(returnedToken)\n                setNewUserSuccess(returnedResult.success)\n            } else if (returnedResult.success === false) {\n                setErrorMessage(returnedResult.error.message);\n            }\n        }\n    getToken();\n    }\n \n\n\n\n    return (\n        <section id='register-form-container'>\n            <form\n                id='register-form'\n                onSubmit={createUser}\n                >\n                {\n                    newUserSuccess ? \n                        <div>\n                            <p>Thanks for signing up! Please <Link to=\"/log-in/\">Log In</Link> with your new Username and Password to get started.</p>\n                        </div>\n                    :\n                        <div id=\"log-in-inputs\">\n                            <h2>Create a Log-In</h2>\n                            <p className=\"register-message\">{errorMessage}</p>\n                            <input\n                                type='text'\n                                required\n                                value={username}\n                                id='username'\n                                placeholder=\"Username\"\n                                onChange={(evt) => setUsername(evt.target.value)}\n                            ></input>\n                            <input\n                                type='password'\n                                required\n                                value={newPW1}\n                                id='password-submission1'\n                                placeholder=\"Password\"\n                                onChange={(evt) => setNewPW1(evt.target.value)}\n                            ></input>\n                            <input\n                                type='password'\n                                required\n                                value={newPW2}\n                                id='password-submission2'\n                                placeholder=\"Reconfirm Password\"\n                                onInput={(evt) => setNewPW2(evt.target.value)}\n                                onChange={(evt) => setPassword(evt.target.value)}      \n                            ></input>\n                            <input\n                                type='submit'\n                                value='Create Account'\n                                disabled= {(newPW1 === newPW2) ? false : true}\n                            ></input>\n                            <div className=\"register-message\">\n                                {(newPW1 == newPW2 ) ? null : 'Passwords Must Match' }\n                            </div>\n                    </div>\n                }\n                \n                \n            </form>\n\n        </section>\n    )\n}\n\n\nexport default RegisterForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}